<div class="max-w-4xl mx-auto">
  <!-- Header -->
  <div class="mb-6">
    <nav class="flex mb-4" aria-label="Breadcrumb">
      <ol class="flex items-center space-x-2">
        <li><%= link_to "Места установки CUTE", cute_installations_path, class: "text-gray-500 hover:text-gray-700" %></li>
        <li class="flex items-center">
          <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
          </svg>
          <span class="ml-2 text-gray-700"><%= @installation.name %></span>
        </li>
      </ol>
    </nav>
    <div class="flex justify-between items-start">
      <div>
        <h1 class="text-2xl font-bold text-gray-900"><%= @installation.name %></h1>
        <p class="mt-1 text-sm text-gray-600">Карточка места установки</p>
      </div>
      <div class="flex space-x-3">
        <%= link_to edit_cute_installation_path(@installation), class: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50" do %>
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
          </svg>
          Редактировать
        <% end %>
        <%= link_to cute_installation_path(@installation),
            data: { turbo_method: :delete, turbo_confirm: "Вы уверены?" },
            class: "inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50" do %>
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
          </svg>
          Удалить
        <% end %>
      </div>
    </div>
  </div>

  <!-- Info Card -->
  <div class="bg-white shadow rounded-lg mb-6">
    <div class="px-4 py-5 sm:p-6">
      <dl class="grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2">
        <div>
          <dt class="text-sm font-medium text-gray-500">Название</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @installation.name %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">Тип места</dt>
          <dd class="mt-1">
            <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">
              <%= @installation.installation_type %>
            </span>
          </dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">Идентификатор</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @installation.identifier || "—" %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">Количество оборудования</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @installation.equipment_count %> шт.</dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">Создано</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= l(@installation.created_at, format: :long) %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500">Обновлено</dt>
          <dd class="mt-1 text-sm text-gray-900"><%= l(@installation.updated_at, format: :long) %></dd>
        </div>
      </dl>
    </div>
  </div>

  <!-- Equipment List -->
  <div class="bg-white shadow rounded-lg">
    <div class="px-4 py-5 sm:p-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-medium text-gray-900">Оборудование на этом месте</h3>
        <%= link_to new_cute_equipment_path(cute_installation_id: @installation.id), class: "text-sm text-blue-600 hover:text-blue-500" do %>
          + Добавить оборудование
        <% end %>
      </div>
      
      <% if @equipments.any? %>
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead>
              <tr>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Тип</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Модель</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Инв. №</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Статус</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              <% @equipments.each do |equipment| %>
                <tr class="hover:bg-gray-50">
                  <td class="px-4 py-2 text-sm text-gray-900"><%= equipment.equipment_type %></td>
                  <td class="px-4 py-2 text-sm text-gray-500"><%= equipment.equipment_model || "—" %></td>
                  <td class="px-4 py-2 text-sm text-gray-500"><%= equipment.inventory_number %></td>
                  <td class="px-4 py-2">
                    <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-<%= equipment.status_color %>-100 text-<%= equipment.status_color %>-800">
                      <%= equipment.status_text %>
                    </span>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
        <% if @installation.equipment_count > 10 %>
          <div class="mt-4 text-center">
            <%= link_to "Показать всё оборудование (#{@installation.equipment_count})", cute_equipments_path(installation_id: @installation.id), class: "text-sm text-blue-600 hover:text-blue-500" %>
          </div>
        <% end %>
      <% else %>
        <div class="text-center py-6 text-gray-500">
          <p>На этом месте нет оборудования</p>
        </div>
      <% end %>
    </div>
  </div>
</div>
