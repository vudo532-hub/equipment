<%= form_with(model: installation, class: "space-y-6") do |form| %>
  <% if installation.errors.any? %>
    <div class="bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded">
      <h2 class="font-bold"><%= pluralize(installation.errors.count, "ошибка", "ошибки", "ошибок") %> при сохранении:</h2>
      <ul class="mt-2 list-disc list-inside">
        <% installation.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :name, "Название", class: "block text-sm font-medium text-gray-700" %>
    <%= form.text_field :name, 
        class: "mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",
        placeholder: "Например: Гейт B12" %>
  </div>

  <div>
    <%= form.label :terminal, "Терминал", class: "block text-sm font-medium text-gray-700" %>
    <%= form.select :terminal, 
        [
          ["Терминал A", "terminal_a"],
          ["Терминал B", "terminal_b"],
          ["Терминал C", "terminal_c"],
          ["Терминал D", "terminal_d"],
          ["Терминал E", "terminal_e"],
          ["Терминал F", "terminal_f"]
        ],
        { prompt: "Выберите терминал" },
        class: "mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" %>
  </div>

  <div>
    <%= form.label :installation_type, "Тип установки", class: "block text-sm font-medium text-gray-700" %>
    <%= form.select :installation_type, 
        [
          ["Гейт", "gate"],
          ["Зал регистрации", "check_in"],
          ["Зал прилёта", "arrival"],
          ["Зал вылета", "departure"],
          ["Общественная зона", "public_area"],
          ["VIP зал", "vip_lounge"],
          ["Багажная лента", "baggage_belt"],
          ["Другое", "other"]
        ],
        { prompt: "Выберите тип" },
        class: "mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" %>
  </div>

  <div>
    <%= form.label :identifier, "Идентификатор", class: "block text-sm font-medium text-gray-700" %>
    <%= form.text_field :identifier,
        class: "mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",
        placeholder: "Например: FIDS-B12-01" %>
    <p class="mt-1 text-sm text-gray-500">Уникальный идентификатор для системы</p>
  </div>

  <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200">
    <% if installation.persisted? %>
      <%= link_to "Отмена", fids_installation_path(installation), class: "px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50" %>
    <% else %>
      <%= link_to "Отмена", fids_installations_path, class: "px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50" %>
    <% end %>
    <%= form.submit installation.persisted? ? "Сохранить" : "Создать",
        class: "px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 cursor-pointer" %>
  </div>
<% end %>
